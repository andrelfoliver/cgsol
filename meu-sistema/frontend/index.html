<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>SigSOL - Sistema de Gestão e Monitoramento da CGSOL</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>

  <style>
    .rag-verde {
      background-color: #16a34a
    }

    .rag-amarelo {
      background-color: #f59e0b
    }

    .rag-vermelho {
      background-color: #dc2626
    }

    .status-concluido {
      background-color: #2563eb
    }

    .project-card {
      transition: all .3s ease
    }

    .project-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, .15)
    }

    .slider {
      -webkit-appearance: none;
      appearance: none;
      background: linear-gradient(to right, #3b82f6 0%, #3b82f6 0%, #e5e7eb 0%, #e5e7eb 100%)
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      height: 20px;
      width: 20px;
      border-radius: 50%;
      background: #3b82f6;
      cursor: pointer;
      border: 2px solid #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .2)
    }

    .slider::-moz-range-thumb {
      height: 20px;
      width: 20px;
      border-radius: 50%;
      background: #3b82f6;
      cursor: pointer;
      border: 2px solid #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .2)
    }

    #userRole:focus {
      box-shadow: 0 0 0 2px rgba(255, 255, 255, .25);
      border-color: rgba(255, 255, 255, .35)
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none
    }

    .header-select {
      background: #fff;
      border: 1px solid #e5e7eb;
      color: #374151;
      padding: .5rem .75rem;
      border-radius: .5rem;
      font-size: .875rem;
      outline: 0
    }

    .header-select:focus {
      box-shadow: 0 0 0 2px rgba(59, 130, 246, .35);
      border-color: #93c5fd
    }

    .nav-tab {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .75rem 1rem;
      font-weight: 600;
      color: #6b7280;
      border-bottom: 2px solid transparent;
      white-space: nowrap;
      transition: color .15s ease, border-color .15s ease
    }

    .nav-tab .icon {
      display: inline-flex;
      line-height: 1
    }

    .nav-tab:hover {
      color: #111827
    }

    .nav-tab.active {
      color: #2563eb;
      border-bottom-color: #2563eb
    }

    .app-header .container>.grid {
      row-gap: .25rem
    }

    .brand-area .logo-img {
      max-width: 220px
    }

    .app-header+* {
      border-top-color: transparent
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">

  <!-- TOP BRAND -->
  <div class="bg-[#0b1e3b] text-white text-xs">
    <div class="container mx-auto px-4 h-8 flex items-center justify-between">
      <span class="tracking-wide font-medium">MINISTÉRIO DO TRABALHO E EMPREGO</span>
      <span class="opacity-80">CGSOL · Coordenação Geral de Soluções</span>
    </div>
  </div>

  <!-- HEADER -->
  <header class="bg-blue-900 text-white shadow">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-baseline space-x-3">
        <span class="text-2xl font-extrabold tracking-tight">SigSOL · Sistema de Gestão e Monitoramento</span>
      </div>
      <div class="flex items-center space-x-4">
        <span class="text-blue-200 hidden md:inline">👤 Admin</span>
        <img src="assets/img/mte-logo-azul-transp.png" alt="Governo Federal"
          class="h-9 md:h-14 w-auto object-contain" />
      </div>
    </div>

    <!-- NAV -->
    <nav class="bg-white border-t border-blue-800/20">
      <div class="container mx-auto px-4">
        <div class="flex space-x-8">
          <button class="nav-btn py-4 px-2 border-b-2 border-blue-500 text-blue-600 font-medium"
            onclick="showPage('home', this)">🏠 Visão Geral</button>
          <button class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-600 hover:text-gray-900"
            onclick="showPage('codes', this)">💻 CODES</button>
          <button class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-600 hover:text-gray-900"
            onclick="showPage('coset', this)">🏗️ COSET</button>
          <button class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-600 hover:text-gray-900"
            onclick="showPage('cgod', this)">📊 CGOD</button>
          <button class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-600 hover:text-gray-900"
            onclick="showPage('pdti', this)">📋 PDTI</button>
        </div>
      </div>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="container mx-auto px-4 py-6">

    <!-- ========================== HOME ========================== -->
    <div class="page-content" id="homePage">
      <div class="mb-8">
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-2xl font-bold text-gray-800 mb-1">Dashboard</h2>
            <p class="text-gray-600">Visão consolidada das três subcoordenações</p>
          </div>
          <div class="text-right">
            <p class="text-sm text-gray-500">Última atualização</p>
            <p class="text-sm font-medium text-gray-700" id="lastUpdate"></p>
          </div>
        </div>
      </div>

      <!-- KPIs linha 1 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-4 mt-4">
        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">📋</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Total de Projetos</p>
              <p class="text-2xl font-bold text-gray-900" id="totalProjetos">0</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="showPage('codes', document.querySelector('nav .nav-btn:nth-child(2)'))">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-100 text-green-600">💻</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">CODES</p>
              <p class="text-2xl font-bold text-gray-900" id="projetosCodes">0</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="showPage('coset', document.querySelector('nav .nav-btn:nth-child(3)'))">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-100 text-purple-600">🏗️</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">COSET</p>
              <p class="text-2xl font-bold text-gray-900" id="projetosCoset">0</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="showPage('cgod', document.querySelector('nav .nav-btn:nth-child(4)'))">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-orange-100 text-orange-600">📊</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">CGOD</p>
              <p class="text-2xl font-bold text-gray-900" id="projetosCgod">0</p>
            </div>
          </div>
        </div>
      </div>

      <!-- KPIs linha 2 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-100 text-green-600">✅</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Concluídos no Mês</p>
              <p class="text-2xl font-bold text-gray-900" id="kpiConcluidosMes">0</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-red-100 text-red-600">⏰</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Fora do Prazo</p>
              <p class="text-2xl font-bold text-gray-900" id="kpiForaPrazo">0</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">📈</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Progresso Médio</p>
              <p class="text-2xl font-bold text-gray-900" id="kpiProgressoMedio">0%</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">🚀</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Projetos Ativos</p>
              <p class="text-2xl font-bold text-gray-900" id="kpiProjetosAtivos">0</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Gráficos -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Projetos por Coordenação</h3>
          <div class="h-96 flex items-center justify-center">
            <canvas class="max-h-80 w-full" id="coordenacaoChart"></canvas>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Status dos Projetos</h3>
          <div class="h-80 flex items-center justify-center">
            <canvas class="w-full h-full" id="statusChart"></canvas>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Distribuição de Status</h3>
          <div class="h-64 flex items-center justify-center">
            <canvas id="statusDistribChart"></canvas>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Farol de entregas</h3>
          <div class="h-64 flex items-center justify-center">
            <canvas id="ragChart"></canvas>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Evolução Temporal</h3>
          <div class="h-64 flex items-center justify-center">
            <canvas id="timelineChart"></canvas>
          </div>
        </div>

      </div>



      <!-- Cards por Coordenação -->
      <div class="mb-8">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Detalhamento por Coordenação</h3>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

          <!-- CODES -->
          <div data-card="codes:desenvolvimento"
            class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
            onclick="filterProjects('codes','desenvolvimento')">
            <div class="flex items-center mb-4">
              <div class="p-2 rounded-lg bg-blue-100 text-blue-600 mr-3">💻</div>
              <h4 class="text-lg font-semibold text-gray-800">CODES</h4>
            </div>
            <div class="space-y-3">
              <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                <div>
                  <p class="font-medium text-gray-900">Na Fábrica</p>
                  <p class="text-xs text-gray-600">Projetos ativos</p>
                </div>
                <span class="text-lg font-bold text-blue-600">0</span>
              </div>
              <div data-card="codes:sustentacao"
                class="flex justify-between items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors"
                onclick="filterProjects('codes','sustentacao')">
                <div>
                  <p class="font-medium text-gray-900">Em Sustentação</p>
                  <p class="text-xs text-gray-600">Sistemas em produção</p>
                </div>
                <span class="text-lg font-bold text-yellow-600">0</span>
              </div>
            </div>
          </div>

          <!-- COSET -->
          <div data-card="coset:infraestrutura"
            class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
            onclick="filterProjects('coset','infraestrutura')">
            <div class="flex items-center mb-4">
              <div class="p-2 rounded-lg bg-purple-100 text-purple-600 mr-3">🏗️</div>
              <h4 class="text-lg font-semibold text-gray-800">COSET</h4>
            </div>
            <div class="space-y-3">
              <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                <div>
                  <p class="font-medium text-gray-900">Infraestrutura</p>
                  <p class="text-xs text-gray-600">Sistemas estruturantes</p>
                </div>
                <span class="text-lg font-bold text-purple-600">0</span>
              </div>
              <div data-card="coset:integracao"
                class="flex justify-between items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors"
                onclick="filterProjects('coset','integracao')">
                <div>
                  <p class="font-medium text-gray-900">Integração</p>
                  <p class="text-xs text-gray-600">Conectividade entre sistemas</p>
                </div>
                <span class="text-lg font-bold text-green-600">0</span>
              </div>
            </div>
          </div>

          <!-- CGOD -->
          <div data-card="cgod:analytics"
            class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
            onclick="filterProjects('cgod','analytics')">
            <div class="flex items-center mb-4">
              <div class="p-2 rounded-lg bg-orange-100 text-orange-600 mr-3">📊</div>
              <h4 class="text-lg font-semibold text-gray-800">CGOD</h4>
            </div>
            <div class="space-y-3">
              <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                <div>
                  <p class="font-medium text-gray-900">Analytics</p>
                  <p class="text-xs text-gray-600">Dashboards e relatórios</p>
                </div>
                <span class="text-lg font-bold text-orange-600">0</span>
              </div>
              <div data-card="cgod:datalake"
                class="flex justify-between items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors"
                onclick="filterProjects('cgod','datalake')">
                <div>
                  <p class="font-medium text-gray-900">Data Lake</p>
                  <p class="text-xs text-gray-600">Catálogos e metadados</p>
                </div>
                <span class="text-lg font-bold text-blue-600">0</span>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Projetos Recentes -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-gray-800">Projetos Recentes</h3>
          <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm"
            onclick="exportData('csv')">📊 Exportar CSV</button>
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Projeto</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Coordenação
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Farol de
                  entrega</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Responsável
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200" id="projectsTableBody"></tbody>
          </table>
        </div>
      </div>
    </div><!-- /HOME -->

    <!-- ========================== CODES ========================== -->
    <div class="page-content hidden" id="codesPage">
      <div class="mb-6">
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">CODES</h2>
            <p class="text-gray-600">Coordenação de Desenvolvimento e Arquitetura de Soluções</p>
          </div>
          <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"
            onclick="openNewProject('CODES')">➕ Novo Projeto</button>
        </div>
      </div>

      <!-- KPIs CODES -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-4">

        <!-- Total de Projetos -->
        <div data-card="codes:total"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','total')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-gray-100 text-gray-600">📊</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Total de Projetos</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Ativos -->
        <div data-card="codes:ativos"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','ativos')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">🚀</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Projetos Ativos</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Desenvolvimento -->
        <div data-card="codes:desenvolvimento"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','desenvolvimento')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-100 text-green-600">💻</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Na Fábrica</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>



        <!-- Sustentação -->
        <div data-card="codes:sustentacao"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','sustentacao')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">🔧</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Em Sustentação</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Fora do Prazo -->
        <div data-card="codes:fora-prazo"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','fora-prazo')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-red-100 text-red-600">⏰</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Fora do Prazo</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Planejado -->
        <div data-card="codes:planejado"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','planejado')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-gray-100 text-gray-600">📅</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Planejado</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Pausado -->
        <div data-card="codes:pausado"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','pausado')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-100 text-purple-600">⏸️</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Pausado</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

        <!-- Concluído -->
        <div data-card="codes:concluido"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('codes','concluido')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">✅</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Concluído</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>

      </div>




      <!-- Gráficos CODES -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
        <!-- Gráfico Na Fábrica -->
        <div id="codesSprintsWrapper" class="bg-white rounded-lg shadow-md p-6 hidden">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Sprints Concluídas por Projeto</h3>
          <div class="h-80 flex items-center justify-center">
            <canvas id="codesSprintsChart"></canvas>
          </div>
        </div>

        <!-- Gráfico Internalização -->
        <div id="codesInternWrapper" class="bg-white rounded-lg shadow-md p-6 hidden">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">Prazo Previsto — Internalização</h3>
          <div class="h-80 flex items-center justify-center">
            <canvas id="codesInternChart"></canvas>
          </div>
        </div>
      </div>


      <!-- Tabela CODES -->
      <div class="bg-white rounded-lg shadow-md" id="tableView">
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-50">
              <tr>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"
                  onclick="sortTable('nome')">Projeto ↕️</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Farol de
                  entrega</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progresso
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sprints</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Responsável
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200" id="codesTableBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Filtros + Export -->
      <div class="bg-white rounded-lg shadow-md p-4 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <select class="border border-gray-300 rounded-lg px-3 py-2" disabled>
            <option>Todos os Status</option>
          </select>
          <select class="border border-gray-300 rounded-lg px-3 py-2" disabled>
            <option>Todos os Responsáveis</option>
          </select>
          <input class="border border-gray-300 rounded-lg px-3 py-2" type="date" disabled />
          <button class="bg-gray-300 text-white px-4 py-2 rounded-lg cursor-not-allowed">🔍 Filtrar</button>
        </div>
      </div>

      <div class="flex justify-end items-center mb-6">
        <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm"
          onclick="exportData('pdf')">📄 Exportar PDF</button>
      </div>

    </div><!-- /CODES -->

    <!-- ========================== COSET ========================== -->
    <div class="page-content hidden" id="cosetPage">
      <div class="mb-6">
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">COSET</h2>
            <p class="text-gray-600">Coordenação de Sistemas Estruturantes</p>
          </div>
          <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"
            onclick="openNewProject('COSET')">➕ Novo Projeto</button>
        </div>
      </div>

      <!-- KPIs COSET -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-4">
        <div data-card="coset:sistemas-integrados"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('coset','sistemas-integrados')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">🔗</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Sistemas Integrados</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="coset:modernizacao"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('coset','modernizacao')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-100 text-green-600">🔄</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Modernização</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="coset:infraestrutura"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('coset','infraestrutura')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-100 text-purple-600">🏗️</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Infraestrutura</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="coset:compliance"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('coset','compliance')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-orange-100 text-orange-600">✅</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Compliance</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Projetos COSET</h3>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Projeto</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Farol de
                  entrega</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progresso
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Responsável
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200" id="cosetTableBody"></tbody>
          </table>
        </div>
      </div>

    </div><!-- /COSET -->


    <!-- ========================== CGOD ========================== -->
    <div class="page-content hidden" id="cgodPage">
      <div class="mb-6">
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">CGOD</h2>
            <p class="text-gray-600">Coordenação de Governança de Dados</p>
          </div>
          <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"
            onclick="openNewProject('CGOD')">➕ Novo Projeto</button>
        </div>
      </div>

      <!-- KPIs CGOD -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-4">
        <div data-card="cgod:catalogos"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('cgod','catalogos')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-blue-600">📚</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Catálogos de Dados</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="cgod:analytics"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('cgod','analytics')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-100 text-green-600">📊</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Analytics &amp; BI</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="cgod:qualidade"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('cgod','qualidade')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-100 text-purple-600">🎯</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Qualidade de Dados</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
        <div data-card="cgod:governanca"
          class="bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="filterProjects('cgod','governanca')">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-orange-100 text-orange-600">🛡️</div>
            <div class="ml-4">
              <p class="text-sm font-medium text-gray-600">Governança</p>
              <p class="text-2xl font-bold text-gray-900">0</p>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Projetos CGOD</h3>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Projeto</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Farol de
                  entrega</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progresso
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Responsável
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200" id="cgodTableBody"></tbody>
          </table>
        </div>
      </div>
    </div><!-- /CGOD -->


    <!-- ========================== PDTI ========================== -->
    <div class="page-content hidden" id="pdtiPage">
      <div class="mb-6">
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">PDTI - Plano Diretor de Tecnologia da Informação</h2>
            <p class="text-gray-600">Monitoramento das ações de Soluções Digitais</p>
          </div>
          <div class="flex space-x-3">
            <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm"
              onclick="exportPDTI('excel')">📊 Exportar Excel</button>
            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"
              onclick="showModal('pdtiActionModal')">➕ Nova Ação</button>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md">
        <div class="p-6 border-b border-gray-200">
          <h3 class="text-lg font-semibold text-gray-800">Ações do PDTI - Soluções Digitais</h3>
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-50">
              <tr>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"
                  onclick="sortPDTI('id')">ID AÇÃO ↕️</th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"
                  onclick="sortPDTI('descricao')">DESCRIÇÃO ↕️</th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer"
                  onclick="sortPDTI('situacao')">SITUAÇÃO ↕️</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">TIPO</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">AÇÕES</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200" id="pdtiTableBody"></tbody>
          </table>
        </div>
      </div>
    </div><!-- /PDTI -->

  </main>

  <!-- ========================== MODAIS ========================== -->
  <!-- Project Modal -->
  <div class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50" id="projectModal">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto">
        <div class="p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Novo Projeto</h3>
            <button class="text-gray-400 hover:text-gray-600" onclick="hideModal('projectModal')">✕</button>
          </div>
          <form class="space-y-4" id="projectForm">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Nome do Projeto</label>
                <input id="projectName" type="text" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Tipo do Projeto</label>
                <select id="projectTipo" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
                  <option value="">Selecione...</option>
                  <option value="Sistema Web">Sistema Web</option>
                  <option value="Chatbot IA">Chatbot IA</option>
                  <option value="Sistema de Dados">Sistema de Dados</option>
                  <option value="Dashboard">Dashboard</option>
                  <option value="BI Dashboard">BI Dashboard</option>
                  <option value="Infraestrutura">Infraestrutura</option>
                  <option value="Sistema Integrado">Sistema Integrado</option>
                </select>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Coordenação</label>
                <select id="projectCoord" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
                  <option value="">Selecione...</option>
                  <option value="CODES">CODES</option>
                  <option value="COSET">COSET</option>
                  <option value="CGOD">CGOD</option>
                </select>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                <select id="projectStatus" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
                  <option value="Planejado">Planejado</option>
                  <option value="Em Andamento">Em Andamento</option>
                  <option value="Em Risco">Em Risco</option>
                  <option value="Concluído">Concluído</option>
                  <option value="Pausado">Pausado</option>
                  <option value="Sustentação">Sustentação</option>
                </select>
              </div>

              <!-- Progresso (%) comum -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Progresso (%)</label>
                <div class="space-y-2">
                  <input id="projectProgressoSlider" type="range" min="0" max="100" value="0"
                    class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"
                    oninput="updateProgressDisplay()" />
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500">0%</span>
                    <div class="flex items-center space-x-2">
                      <span id="progressDisplay" class="text-lg font-bold text-blue-600">0%</span>
                      <input id="projectProgresso" type="number" min="0" max="100" value="0"
                        class="w-16 border border-gray-300 rounded px-2 py-1 text-sm"
                        oninput="updateProgressSlider()" />
                    </div>
                    <span class="text-sm text-gray-500">100%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="bg-blue-600 h-3 rounded-full transition-all duration-300"
                      style="width:0%"></div>
                  </div>
                </div>
              </div>

              <!-- CODES-only -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Total de Sprints</label>
                <input id="projectTotalSprints" type="number" min="1"
                  class="w-full border border-gray-300 rounded-lg px-3 py-2" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Sprints Concluídas</label>
                <input id="projectSprintsConcluidas" type="number" min="0"
                  class="w-full border border-gray-300 rounded-lg px-3 py-2" />
              </div>
              <div class="flex items-center space-x-2">
                <input id="projectInternalizacao" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded">
                <label for="projectInternalizacao" class="text-sm text-gray-700">
                  Este projeto é de Internalização
                </label>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Responsável</label>
                <input id="projectResponsavel" type="text" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                  required>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Data de Início</label>
                <input id="projectInicio" type="date" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                  required>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Fim Previsto</label>
                <input id="projectFim" type="date" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
              <textarea id="projectDescricao" rows="3" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                required></textarea>
            </div>

            <!-- (Opcional) bloco visual CODES — mantido, mas ids duplicados evitados -->
            <fieldset id="codesOnlyBlock" class="hidden border border-gray-200 rounded-lg p-4">
              <legend class="px-2 text-sm text-gray-600">Campos CODES (somente visual por enquanto)</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">% (leitura)</label>
                  <input type="number" min="0" max="100" class="w-full border border-gray-300 rounded px-3 py-2"
                    placeholder="0–100" disabled>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Total de Sprints</label>
                  <input type="number" min="1" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                    placeholder="ex.: 10" disabled>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Sprints Concluídas</label>
                  <input type="number" min="0" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                    placeholder="ex.: 3" disabled>
                </div>
              </div>
            </fieldset>



            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Prioridade</label>
              <select id="projectPrioridade" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                <option value="">Selecione...</option>
                <option value="Alta">Alta</option>
                <option value="Média">Média</option>
                <option value="Baixa">Baixa</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Orçamento (R$)</label>
              <input id="projectOrcamento" type="number" min="0" step="0.01"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Equipe</label>
              <input id="projectEquipe" type="text" placeholder="Nomes separados por vírgula"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Farol de entrega</label>
              <select id="projectRag" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                <option value="">Selecione...</option>
                <option value="Verde">Verde</option>
                <option value="Amarelo">Amarelo</option>
                <option value="Vermelho">Vermelho</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Riscos</label>
              <textarea id="projectRisco" rows="2"
                class="w-full border border-gray-300 rounded-lg px-3 py-2"></textarea>
            </div>


            <div class="flex justify-end space-x-3 pt-4">
              <button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
                onclick="hideModal('projectModal')">Cancelar</button>
              <button id="submitProjectBtn" type="submit"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Salvar Projeto</button>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>

  <!-- Detalhe do Projeto -->
  <div class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50" id="projectDetailModal">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto">
        <div class="p-6">
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-gray-900" id="detailProjectName">—</h3>
            <button class="text-gray-400 hover:text-gray-600" onclick="hideModal('projectDetailModal')">✕</button>
          </div>

          <div class="mb-6">
            <div class="bg-blue-50 rounded-lg p-4">
              <h4 class="text-lg font-semibold text-blue-800" id="detailProjectType">—</h4>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-4">
            <div class="bg-gray-50 rounded-lg p-4">
              <h4 class="font-semibold text-gray-700 mb-2">Farol de entrega</h4>
              <div class="w-full h-8 rounded flex items-center justify-center text-white font-medium rag-verde"
                id="detailRagStatus">—</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4">
              <h4 class="font-semibold text-gray-700 mb-2">Prioridade</h4>
              <div class="w-full h-8 rounded flex items-center justify-center text-white font-medium bg-gray-500"
                id="detailPrioridade">—</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4">
              <h4 class="font-semibold text-gray-700 mb-2">Progresso</h4>
              <div class="flex items-center">
                <div class="flex-1 bg-gray-200 rounded-full h-4 mr-3">
                  <div class="bg-blue-600 h-4 rounded-full" id="detailProgress" style="width:0%"></div>
                </div>
                <span class="text-sm font-medium text-gray-700" id="detailProgressText">—</span>
              </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4">
              <h4 class="font-semibold text-gray-700 mb-2">Sprints</h4>
              <p class="text-2xl font-bold text-blue-600" id="detailSprints">—</p>
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <div class="space-y-6">
              <div class="bg-white border rounded-lg p-4">
                <h4 class="font-semibold text-gray-700 mb-3">Informações do Projeto</h4>
                <div class="space-y-2 text-sm">
                  <p><span class="font-medium">Coordenação:</span> <span id="detailCoordenacao">—</span></p>
                  <p><span class="font-medium">Responsável:</span> <span id="detailResponsavel">—</span></p>
                  <p><span class="font-medium">Status:</span> <span id="detailStatus">—</span></p>
                  <p><span class="font-medium">Início:</span> <span id="detailInicio">—</span></p>
                  <p><span class="font-medium">Fim Previsto:</span> <span id="detailFim">—</span></p>
                </div>
              </div>
              <div class="bg-white border rounded-lg p-4">
                <h4 class="font-semibold text-gray-700 mb-3">Equipe do Projeto</h4>
                <div class="space-y-2 text-sm" id="detailEquipe"></div>
              </div>
            </div>
            <div class="space-y-6">
              <div class="bg-white border rounded-lg p-4">
                <h4 class="font-semibold text-gray-700 mb-3">Orçamento</h4>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Orçamento Total:</span>
                    <span class="text-lg font-bold text-blue-600" id="detailOrcamento">—</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="bg-green-500 h-3 rounded-full" id="detailOrcamentoProgress" style="width:0%"></div>
                  </div>
                  <div class="flex justify-between text-xs text-gray-600">
                    <span>Executado</span><span>Disponível</span>
                  </div>
                </div>
              </div>
              <div class="bg-white border rounded-lg p-4">
                <h4 class="font-semibold text-gray-700 mb-3">Descrição</h4>
                <p class="text-sm text-gray-600" id="detailDescricao">—</p>
              </div>
            </div>
          </div>

          <div class="bg-white border rounded-lg p-4">
            <h4 class="font-semibold text-gray-700 mb-3">Riscos e Dependências</h4>
            <div class="text-sm text-gray-600" id="detailRiscos">—</div>
          </div>
          <div class="bg-white border rounded-lg p-4 mt-6">
            <h4 class="font-semibold text-gray-700 mb-3">Histórico de Andamento</h4>
            <div id="detailAndamentos" class="space-y-2 text-sm text-gray-600">
              <p>Nenhum andamento registrado.</p>
            </div>
            <div class="mt-3 flex gap-2">
              <input id="newAndamento" type="text" placeholder="Descreva andamento..."
                class="flex-1 border border-gray-300 rounded-lg px-3 py-2" />
              <button onclick="addAndamento()" class="px-4 py-2 bg-blue-600 text-white rounded-lg">➕</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- PDTI Action Modal -->
  <div class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50" id="pdtiActionModal">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-lg w-full">
        <div class="p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Nova Ação PDTI</h3>
            <button class="text-gray-400 hover:text-gray-600" onclick="hideModal('pdtiActionModal')">✕</button>
          </div>
          <form class="space-y-4" id="pdtiActionForm">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">ID da Ação</label>
              <input class="w-full border border-gray-300 rounded-lg px-3 py-2" id="pdtiActionId" type="text"
                placeholder="Ex: AC.SDF.46" required />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
              <textarea class="w-full border border-gray-300 rounded-lg px-3 py-2" id="pdtiActionDesc" rows="3"
                placeholder="Descreva a ação..." required></textarea>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Situação</label>
              <select class="w-full border border-gray-300 rounded-lg px-3 py-2" id="pdtiActionSituacao" required>
                <option value="">Selecione...</option>
                <option value="Não iniciada">Não Iniciada</option>
                <option value="Em andamento">Em Andamento</option>
                <option value="Concluída">Concluída</option>
                <option value="-">Sem Status</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
              <select class="w-full border border-gray-300 rounded-lg px-3 py-2" id="pdtiActionTipo" required>
                <option value="">Selecione...</option>
                <option value="SDF">Soluções Digitais (SDF)</option>
                <option value="SDD">Soluções de Dados (SDD)</option>
                <option value="SDS">Soluções de Sistemas (SDS)</option>
              </select>
            </div>
            <div class="flex justify-end space-x-3 pt-4">
              <button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
                onclick="hideModal('pdtiActionModal')">Cancelar</button>
              <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Salvar
                Ação</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- CONFIRM DELETE -->
  <div id="confirmModal" class="fixed inset-0 z-[1000] hidden" role="dialog" aria-modal="true"
    aria-labelledby="confirmTitle">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative mx-auto max-w-md mt-24 bg-white rounded-xl shadow-2xl overflow-hidden">
      <div class="h-1 bg-red-600"></div>
      <div class="p-6">
        <div class="flex items-start gap-3">
          <div class="text-2xl">🗑️</div>
          <div class="flex-1">
            <h4 id="confirmTitle" class="text-lg font-semibold text-gray-900">Confirmar exclusão</h4>
            <p id="confirmMessage" class="text-sm text-gray-600 mt-1"></p>

          </div>
          <button class="text-gray-400 hover:text-gray-600" onclick="window.cancelDelete()"
            aria-label="Fechar">✕</button>
        </div>

        <div class="mt-6 flex items-center justify-end gap-3">
          <button type="button" class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50"
            onclick="window.cancelDelete()">Cancelar</button>
          <button type="button" class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700"
            onclick="window.confirmDelete()">Excluir</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="mt-10 text-blue-100 bg-gradient-to-br from-blue-900 to-blue-950" role="contentinfo">
    <div class="container mx-auto px-4 py-10">
      <div class="md:flex md:divide-x md:divide-blue-800">
        <section class="md:w-5/12 md:pr-8 mb-8 md:mb-0">
          <div class="flex items-center gap-3 mb-3">
            <div class="h-9 w-9 rounded bg-blue-800/60 grid place-items-center text-xl">⚙️</div>
            <div>
              <h4 class="text-sm tracking-widest font-semibold text-blue-200">CGSOL • MTE</h4>
              <p class="text-xl font-bold leading-tight text-white">Coordenação Geral de Soluções</p>
            </div>
          </div>
          <p class="text-sm text-blue-200/90 leading-relaxed">
            Painel unificado de projetos e indicadores das coordenações CODES, COSET e CGOD.
          </p>
        </section>

        <nav class="md:w-3/12 md:px-8 mb-8 md:mb-0">
          <h5 class="text-xs font-semibold uppercase tracking-wider text-blue-300 mb-3">Navegação</h5>
          <ul class="space-y-2 text-sm">
            <li><a href="#" onclick="showPage('home',  getNavButtonFor && getNavButtonFor('home'))"
                class="group inline-flex items-center gap-2 hover:text-white"><span
                  class="opacity-60 group-hover:opacity-100">Visão Geral</span><span
                  class="text-xs opacity-40 group-hover:opacity-80">→</span></a></li>
            <li><a href="#" onclick="showPage('codes', getNavButtonFor && getNavButtonFor('codes'))"
                class="group inline-flex items-center gap-2 hover:text-white"><span
                  class="opacity-60 group-hover:opacity-100">CODES</span><span
                  class="text-xs opacity-40 group-hover:opacity-80">→</span></a></li>
            <li><a href="#" onclick="showPage('coset', getNavButtonFor && getNavButtonFor('coset'))"
                class="group inline-flex items-center gap-2 hover:text-white"><span
                  class="opacity-60 group-hover:opacity-100">COSET</span><span
                  class="text-xs opacity-40 group-hover:opacity-80">→</span></a></li>
            <li><a href="#" onclick="showPage('cgod',  getNavButtonFor && getNavButtonFor('cgod'))"
                class="group inline-flex items-center gap-2 hover:text-white"><span
                  class="opacity-60 group-hover:opacity-100">CGOD</span><span
                  class="text-xs opacity-40 group-hover:opacity-80">→</span></a></li>
            <li><a href="#" onclick="showPage('pdti',  getNavButtonFor && getNavButtonFor('pdti'))"
                class="group inline-flex items-center gap-2 hover:text-white"><span
                  class="opacity-60 group-hover:opacity-100">PDTI</span><span
                  class="text-xs opacity-40 group-hover:opacity-80">→</span></a></li>
          </ul>
        </nav>

        <section class="md:w-2/12 md:px-8 mb-8 md:mb-0">
          <h5 class="text-xs font-semibold uppercase tracking-wider text-blue-300 mb-3">Contato</h5>
          <ul class="space-y-2 text-sm">
            <li class="opacity-80">contato@mte.gov.br</li>
            <li class="opacity-80">Seg–Sex • 9h–18h</li>
          </ul>
        </section>

        <section class="md:w-2/12 md:pl-8">
          <h5 class="text-xs font-semibold uppercase tracking-wider text-blue-300 mb-3">Status</h5>
          <p class="text-sm opacity-80">
            Última atualização:<br>
            <span id="lastUpdate" class="font-semibold text-white">—</span>
          </p>
          <button type="button"
            class="mt-4 text-sm inline-flex items-center gap-2 px-3 py-2 rounded border border-blue-800/60 hover:border-blue-700 hover:bg-blue-900/30 transition"
            onclick="window.scrollTo({ top: 0, behavior: 'smooth' })" aria-label="Voltar ao topo">↑ Voltar ao
            topo</button>
        </section>
      </div>
    </div>

    <div class="border-t border-blue-800/60">
      <div
        class="container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between text-xs text-blue-300">
        <p>© <span id="footerYear"></span> Ministério do Trabalho e Emprego — CGSOL</p>
        <ul class="flex items-center gap-4 mt-2 md:mt-0">
          <li><a href="#" class="hover:text-white">Acessibilidade</a></li>
          <li><a href="#" class="hover:text-white">Privacidade</a></li>
          <li><a href="#" class="hover:text-white">LGPD</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- NOTIFY MODAL -->
  <div id="notifyModal" class="fixed inset-0 z-[999] hidden">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative mx-auto max-w-md mt-24 bg-white rounded-xl shadow-2xl overflow-hidden">
      <div id="notifyBar" class="h-1 bg-blue-600"></div>
      <div class="p-5">
        <div class="flex items-start gap-3">
          <div id="notifyIcon" class="text-2xl">ℹ️</div>
          <div class="flex-1">
            <h4 id="notifyTitle" class="text-lg font-semibold text-gray-900">Aviso</h4>
            <p id="notifyMessage" class="text-sm text-gray-600 mt-1">...</p>
          </div>
          <button class="text-gray-400 hover:text-gray-600" onclick="window.hideNotify()">✕</button>
        </div>
      </div>
    </div>
  </div>

  <!-- HELPERS + NAV -->
  <script>
    const NAV_INDEX = { home: 1, codes: 2, coset: 3, cgod: 4, pdti: 5 };

    function getNavButtonFor(page) {
      const idx = NAV_INDEX[page] || 1;
      return document.querySelector(`nav .nav-btn:nth-child(${idx})`);
    }

    function showPage(pageId, el) {
      document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
      const target = document.getElementById(pageId + 'Page');
      if (target) target.classList.remove('hidden');

      document.querySelectorAll('nav .nav-btn').forEach(btn => {
        btn.classList.remove('border-blue-500', 'text-blue-600');
        btn.classList.add('border-transparent', 'text-gray-500');
      });
      if (el) {
        el.classList.remove('border-transparent', 'text-gray-500');
        el.classList.add('border-blue-500', 'text-blue-600');
      }
    }

    function hideModal(id) { const el = document.getElementById(id); if (el) el.classList.add('hidden'); }
    window.showModal = function (id) {
      const el = document.getElementById(id);
      if (el) el.classList.remove('hidden');
    };
    window.hideNotify = function () { const el = document.getElementById('notifyModal'); if (el) el.classList.add('hidden'); };

    function updateProgressDisplay() {
      const slider = document.getElementById('projectProgressoSlider');
      const display = document.getElementById('progressDisplay');
      const input = document.getElementById('projectProgresso');
      const bar = document.getElementById('progressBar');
      const value = Number(slider.value) || 0;
      display.textContent = value + '%';
      input.value = value;
      bar.style.width = value + '%';
      const pct = (value / slider.max) * 100;
      slider.style.background = `linear-gradient(to right,#3b82f6 0%,#3b82f6 ${pct}%,#e5e7eb ${pct}%,#e5e7eb 100%)`;
    }
    function updateProgressSlider() {
      const input = document.getElementById('projectProgresso');
      const slider = document.getElementById('projectProgressoSlider');
      const display = document.getElementById('progressDisplay');
      const bar = document.getElementById('progressBar');
      let value = parseInt(input.value) || 0;
      if (value < 0) value = 0; if (value > 100) value = 100;
      input.value = value; slider.value = value; display.textContent = value + '%'; bar.style.width = value + '%';
      const pct = (value / slider.max) * 100;
      slider.style.background = `linear-gradient(to right,#3b82f6 0%,#3b82f6 ${pct}%,#e5e7eb ${pct}%,#e5e7eb 100%)`;
    }

    // Placeholders
    function sortTable() { alert('Ordenação será implementada.'); }
    function exportData(fmt) { alert('Exportação ' + fmt.toUpperCase() + ' será implementada.'); }
    function exportPDTI(fmt) { alert('Exportação PDTI ' + fmt.toUpperCase() + ' será implementada.'); }

    document.addEventListener('DOMContentLoaded', () => {
      const firstBtn = document.querySelector('nav .nav-btn:first-child');
      showPage('home', firstBtn);
    });
  </script>

  <!-- Lógica dinâmica (main.js) -->
  <script src="assets/js/main.js?v=9" defer></script>
</body>

</html>